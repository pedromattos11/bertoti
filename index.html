<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Universidades</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <h1>üåç Lista de Universidades</h1>
        
        <div class="controls">
            <label for="country">Buscar por pa√≠s:</label>
            <select id="country">
                <option value="Brazil">Brasil</option>
                <option value="United States">Estados Unidos</option>
                <option value="United Kingdom">Reino Unido</option>
                <option value="Canada">Canad√°</option>
                <option value="Germany">Alemanha</option>
                <option value="France">Fran√ßa</option>
                <option value="Spain">Espanha</option>
                <option value="Italy">It√°lia</option>
                <option value="Portugal">Portugal</option>
                <option value="Argentina">Argentina</option>
                <option value="Chile">Chile</option>
                <option value="Mexico">M√©xico</option>
                <option value="Australia">Austr√°lia</option>
                <option value="Japan">Jap√£o</option>
                <option value="China">China</option>
                <option value="India">√çndia</option>
                <option value="South Korea">Coreia do Sul</option>
                <option value="Netherlands">Holanda</option>
                <option value="Sweden">Su√©cia</option>
                <option value="Norway">Noruega</option>
                <option value="Denmark">Dinamarca</option>
                <option value="Finland">Finl√¢ndia</option>
                <option value="Switzerland">Su√≠√ßa</option>
                <option value="Belgium">B√©lgica</option>
                <option value="Poland">Pol√¥nia</option>
                <option value="Russia">R√∫ssia</option>
                <option value="Turkey">Turquia</option>
                <option value="South Africa">√Åfrica do Sul</option>
                <option value="New Zealand">Nova Zel√¢ndia</option>
            </select>
            <button onclick="fetchUniversities()">Buscar Universidades</button>
        </div>

        <div id="loading"></div>
        <div id="universities"></div>
    </div>

    <script>
        const apiUrl = 'https://universities.hipolabs.com/search';

        async function fetchUniversities() {
            const country = document.getElementById('country').value;
            const universitiesDiv = document.getElementById('universities');
            const loadingDiv = document.getElementById('loading');

            loadingDiv.textContent = 'Carregando universidades...';
            universitiesDiv.innerHTML = '';

            try {
                const response = await fetch(`${apiUrl}?country=${encodeURIComponent(country)}`);
                
                if (!response.ok) {
                    throw new Error('Erro ao buscar dados da API');
                }

                const data = await response.json();
                loadingDiv.textContent = '';

                if (data.length === 0) {
                    universitiesDiv.innerHTML = '<div class="error">Nenhuma universidade encontrada para este pa√≠s.</div>';
                    return;
                }

                data.forEach(university => {
                    const universityDiv = document.createElement('div');
                    universityDiv.classList.add('university');
                    
                    const name = university.name || 'Nome n√£o dispon√≠vel';
                    const country = university.country || 'N/A';
                    const domains = university.domains && university.domains.length > 0 
                        ? university.domains.join(', ') 
                        : 'N/A';
                    const webPage = university.web_pages && university.web_pages.length > 0 
                        ? university.web_pages[0] 
                        : '#';

                    universityDiv.innerHTML = `
                        <h2>${name}</h2>
                        <span class="country">${country}</span>
                        <p><strong>Dom√≠nio:</strong> ${domains}</p>
                        ${webPage !== '#' ? `<a href="${webPage}" target="_blank">üåê Visitar site</a>` : ''}
                    `;
                    universitiesDiv.appendChild(universityDiv);
                });

            } catch (error) {
                console.error('Erro ao buscar universidades:', error);
                loadingDiv.textContent = '';
                universitiesDiv.innerHTML = '<div class="error">Erro ao carregar as universidades. Verifique sua conex√£o ou tente novamente.</div>';
            }
        }

        // Busca autom√°tica ao carregar a p√°gina
        window.addEventListener('DOMContentLoaded', () => {
            fetchUniversities();
        });
    </script>
</body>
</html>

